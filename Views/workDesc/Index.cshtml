@model IEnumerable<allpax_service_record.Models.View_Models.vm_workDesc>
@{
    Layout = null;
}

<head>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    @*JQuery*@
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <script>
        $(document).ready(function () {//begin document read jquery statements

            //begin when nnnn is clicked...
            $("#addWorkDescBtn").on('click', function () {

                //alert('hghghgh');

                //console.log($(this).attr("id"))
                //console.log($(this).attr("class"))
                //alert($(this).parent().attr("class"))
                //alert($(this).parents().eq(1).attr("class"))

                //var addItem1 = $("#txt_dailyReportID").html();
                //var addItem2 = $("#input_workDesc").html();

                //alert("dailyReportID: " + addItem1 + '\n' +
                //    "workDescription: " + addItem2

                //);
             
                //function GFG_Fun() {
                //    var arr = [];
                    //$(".workDescTeam_").each(function () { arr.push($(this).text()) });
                    //el_down.innerHTML = '"' + arr.join('", "') + '"';

                    //$(".workDescTeam_").each(function ()
                    //alert($(this).attr("id"));
                var tempTeamMemberUserID

                $(".workDescTeam_").each(function () {

                    //var tempTeamMemberUserID = $(this).attr("id").split("workDescTeam_");
                    var tempTeamMemberUserID = $(this).attr("id").substr(13);


                    //var tempTeamMemberUserID = this.id.substr(5);

                    if (tempTeamMemberUserID.length > 0) {
                        alert(tempTeamMemberUserID);
                        alert(tempTeamMemberUserID.length);
                    }
                    //alert($(this).attr("id"));
                    //alert(tempTeamMemberUserID);
                    //alert(tempTeamMemberUserID.length);
                    
                    });
                //}

                //alert($("#input_workDesc").html());

                //$('#element1').parents().eq(2);

                //$(this).parent().find(".#txt_dailyReportID").val();

                //var addItem1 = $("#addRecordItem1").val();
                //var addItem2 = $("#addRecordItem2").val();
                //var addItem3 = $("#addRecordItem3").val();
                //var addItem4 = $("#addRecordItem4").val();
                //var addItem5 = $("#addRecordItem5").val();
                //var addItem6 = $("#addRecordItem6").val();

                //alert(
                //    "Selected for Add POST:" + '\n' +
                //    "addItem1: " + addItem1 + '\n' +
                //    "addItem2: " + addItem2 + '\n' +
                //    "addItem3: " + addItem3 + '\n' +
                //    "addItem4: " + addItem4 + '\n' +
                //    "addItem5: " + addItem5 + '\n' +
                //    "addItem6: " + addItem6 + '\n'
                //);
                //$("#addRecordItem1").val('');
                //$("#addRecordItem2").val('');
                //$("#addRecordItem3").val('');
                //$("#addRecordItem4").val('');
                //$("#addRecordItem5").val('');
                //$("#addRecordItem6").val('');

                //begin axios add post
                //axios.post('/workDesc/AddWorkDesc', {
                //    dailyReportID: addItem1,
                //    workDescription: addItem2,
                //    //userName: 'tgoss',

                //})
                //    .then(function (response) {
                //        console.log(response);
                //    })
                //    .catch(function (error) {
                //        console.log(error);
                //    });
                //end axios add post

            });
            //end n
          
        });//end document read jquery statements
    </script>
</head>

@*BEGIN WORK DESCRIPTION TEMPLATE*@
<div class="col-12" id="workDescriptionLine_template">
    @*<div class="col-3" style="padding:5px">
            <div>
                <span><strong>Record No</strong></span>
                <span id="txt_dailyReportID" value=@ViewBag.reportID>@ViewBag.reportID</span>
            </div>
        </div>*@
    <div class="row" id="">
        <div class="col-8" id="input_workDesc" style="padding:5px" contenteditable="true">
            @*<span class="input" role="textbox" id="input_workDesc" contenteditable>kkkkk</span>*@
        </div>
        <div class="col-3" name="txt_teamMembersWorkDesc" id="txt_teamMembersWorkDesc" style="padding:5px">
            <span class="workDescTeam_" id="workDescTeam_" style="padding:5px"></span>
        </div>
        <div class="col-1" style="padding:5px">
            <select name="" id="workDescTeam_dpdwn" style="width:100%">
                <option value="">Team</option>
            </select>
        </div>
    </div>
    <div class="row">
        <div class="col-2" style="padding:5px">
            <div>
                <span><strong>Time Entry:</strong></span>
                <span id="txt_timeEntryID" value="">new</span>
            </div>
        </div>
        <div class="col-10" style="padding:5px">
            <button type="button" class="btn btn-primary btn-sm" id="addWorkDescBtn" style="background-color: royalblue; width: 100%">Save Entry</button>
        </div>
    </div>
</div>
@*END WORK DESCRIPTION TEMPLATE*@

<div class="container-fluid">
    <div class="col-md-12" style="border:none">
        <table id="" class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th class="th-sm">
                        dailyReportID
                    </th>
                    <th class="th-sm">
                        timeEntryID
                    </th>
                    <th class="th-sm">
                        Work Description
                    </th>
                    <th class="th-sm">
                        Team
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                <tr class="record" id=@Html.DisplayFor(modelItem => item.timeEntryID)>
                    <td id="record_item1" value=@Html.DisplayFor(modelItem => item.dailyReportID)>@Html.DisplayFor(modelItem => item.dailyReportID)</td>
                    <td id="record_item1" value=@Html.DisplayFor(modelItem => item.timeEntryID)>@Html.DisplayFor(modelItem => item.timeEntryID)</td>
                    <td id="record_item1" value=@Html.DisplayFor(modelItem => item.workDescription)>@Html.DisplayFor(modelItem => item.workDescription)</td>
                    <td class="workDescUsers">
                        @for (var i = 0; i < (item.userNames.Count); i++)
                        {
                            <span>@Html.DisplayFor(modelItem => item.userShortNames[@i]) </span>
                        }
                    </td>
                </tr>
                }
        </table>
    </div>
</div>

@*<span id="txt_dailyReportID" value="@Model.First().dailyReportID">@Model.First().dailyReportID</span>*@


